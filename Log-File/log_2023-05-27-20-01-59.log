[2023-05-27 20:02:01,814] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-05-27 20:02:01,814] root - INFO - Starting data ingestion
[2023-05-27 20:02:02,280] root - INFO - got data from mongodb
[2023-05-27 20:02:02,360] root - INFO - storing train data
[2023-05-27 20:02:04,328] root - INFO - data validation started........
[2023-05-27 20:02:04,810] root - INFO - dropping null values
[2023-05-27 20:02:04,865] root - INFO - now shape of df : (351294, 8)
[2023-05-27 20:02:04,898] root - INFO - now shape of df : (189161, 8)
[2023-05-27 20:02:04,899] root - INFO - dropping null values
[2023-05-27 20:02:04,900] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-27 20:02:04,907] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-27 20:02:04,907] root - INFO - data shape: (351294, 5)
[2023-05-27 20:02:04,912] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-27 20:02:04,916] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-27 20:02:04,916] root - INFO - data shape: (189161, 5)
[2023-05-27 20:02:04,919] root - INFO - dropping rows on condition
[2023-05-27 20:02:05,141] root - INFO - handling InvoiceDate column
[2023-05-27 20:02:05,151] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                               Description  Quantity          InvoiceDate  UnitPrice         Country
1          SWEETHEART CERAMIC TRINKET BOX         5  2011-02-18 16:12:00          2  United Kingdom
8                   HEART OF WICKER LARGE         5  2010-12-05 11:02:00          2  United Kingdom
9              JUMBO BAG WOODLAND ANIMALS         1  2011-10-12 16:40:00          4  United Kingdom
11                LUNCH BAG VINTAGE DOILY        20  2011-08-24 10:19:00          1  United Kingdom
13      JUMBO SHOPPER VINTAGE RED PAISLEY         1  2011-11-11 10:49:00          2  United Kingdom
...                                   ...       ...                  ...        ...             ...
352229             6 RIBBONS RUSTIC CHARM        24  2010-12-02 13:38:00          1  United Kingdom
352231            LUNCH BAG  BLACK SKULL.         7  2011-02-08 12:12:00          4  United Kingdom
352233            JUMBO BAG VINTAGE DOILY         1  2011-12-05 12:30:00          2  United Kingdom
352234             JUMBO STORAGE BAG SUKI        10  2011-03-22 15:42:00          1         Germany
352238                            POSTAGE         2  2011-05-23 09:48:00         18          France

[84916 rows x 5 columns]
[2023-05-27 20:02:05,185] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-27 20:02:05,192] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                                 Description  Quantity          InvoiceDate  UnitPrice         Country
0                            SPOTTY BUNTING         2  2011-05-19 14:08:00          4  United Kingdom
36                       LUNCH BAG WOODLAND         1  2011-08-30 12:31:00          4  United Kingdom
38      SET/5 RED RETROSPOT LID GLASS BOWLS         6  2011-05-06 10:16:00          2  United Kingdom
40          GREEN REGENCY TEACUP AND SAUCER         6  2011-11-01 13:57:00          2            EIRE
41                 ALARM CLOCK BAKELIKE RED         8  2011-11-14 11:25:00          3  United Kingdom
...                                     ...       ...                  ...        ...             ...
189623    JUMBO SHOPPER VINTAGE RED PAISLEY        10  2011-08-18 12:53:00          2  United Kingdom
189630                LUNCH BAG SUKI DESIGN        11  2011-07-05 15:31:00          4  United Kingdom
189649       NATURAL SLATE HEART CHALKBOARD         5  2011-02-07 14:04:00          5  United Kingdom
189657      RETROSPOT TEA SET CERAMIC 11 PC         1  2011-12-08 10:53:00         10  United Kingdom
189663      RECIPE BOX PANTRY YELLOW DESIGN         6  2011-11-27 15:44:00          2            EIRE

[16802 rows x 5 columns]
[2023-05-27 20:02:05,201] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-27 20:02:05,202] root - INFO - converting column.dtypes into int.
[2023-05-27 20:02:05,203] root - INFO -  ....... creating target columns .............
[2023-05-27 20:02:05,204] root - INFO - get_required_description 
[2023-05-27 20:02:05,216] root - INFO - train_Df  shape : (84916, 8)
[2023-05-27 20:02:05,217] root - INFO - test_df  shape : (16802, 8)
[2023-05-27 20:02:05,368] root - INFO - Writting reprt in yaml file
[2023-05-27 20:02:05,369] root - INFO - report written into report.yaml
[2023-05-27 20:02:05,369] root - INFO - data validation is almost done
[2023-05-27 20:02:05,369] root - INFO - returning data_validation_artifact
[2023-05-27 20:02:05,370] root - INFO - ...................Starting data transformation..................
[2023-05-27 20:02:05,371] root - INFO - reading data from valid_feature_store_file...
[2023-05-27 20:02:05,872] root - INFO - returning data transformatin artifact
[2023-05-27 20:02:05,882] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-05-27 20:02:06,009] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-05-27 20:02:06,009] root - INFO - X_train shape is : (84916, 219)
[2023-05-27 20:02:06,009] root - INFO - x_test shape is : (16802, 219)
[2023-05-27 20:02:06,009] root - INFO - ready to fit data to model...
[2023-05-27 20:02:07,341] root - INFO - data fitted to model...
[2023-05-27 20:02:07,348] root - INFO - predicted for x_test : 0.9968020595276089
[2023-05-27 20:02:07,404] root - INFO - predicted for x_train : 1.0
[2023-05-27 20:02:07,461] root - INFO - predicted mse for x_train : 0.0
[2023-05-27 20:02:07,467] root - INFO - predicted mse for x_test : 2.3594810141649805
[2023-05-27 20:02:07,520] root - INFO - predicted for mae x_train : 0.0
[2023-05-27 20:02:07,526] root - INFO - predicted for  mae x_test : 0.06499226282585406
[2023-05-27 20:02:07,591] root - INFO - predicted rmse for x_train : 0.0
[2023-05-27 20:02:07,596] root - INFO - predicted for x_test : 1.5360602247844908
[2023-05-27 20:02:07,597] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.003197940472391081
[2023-05-27 20:02:07,597] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-05-27 20:02:07,597] root - INFO - save the model as a dill(pickle) file....
[2023-05-27 20:02:07,602] root - INFO - Model evaluation started ......
[2023-05-27 20:02:07,602] root - INFO - model_evaluation_artifact : ModelEvaluationArtifact(model_eccepted=True, improved_accuracy=None)
[2023-05-27 20:02:07,603] root - INFO - model pusher is started.....
[2023-05-27 20:02:07,603] root - INFO - reading(unpickling) transformer and model
[2023-05-27 20:02:07,603] root - INFO - saving transformer and model file into saved folder...
