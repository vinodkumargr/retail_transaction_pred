[2023-05-29 11:07:02,053] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-05-29 11:07:02,053] root - INFO - Starting data ingestion
[2023-05-29 11:07:02,558] root - INFO - got data from mongodb
[2023-05-29 11:07:02,654] root - INFO - storing train data
[2023-05-29 11:07:04,006] root - INFO - data validation started........
[2023-05-29 11:07:04,479] root - INFO - dropping null values
[2023-05-29 11:07:04,532] root - INFO - now shape of df : (351302, 8)
[2023-05-29 11:07:04,565] root - INFO - now shape of df : (189153, 8)
[2023-05-29 11:07:04,567] root - INFO - dropping null values
[2023-05-29 11:07:04,567] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:07:04,574] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:07:04,574] root - INFO - data shape: (351302, 5)
[2023-05-29 11:07:04,579] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:07:04,584] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:07:04,584] root - INFO - data shape: (189153, 5)
[2023-05-29 11:07:04,587] root - INFO - dropping rows on condition
[2023-05-29 11:07:04,854] root - INFO - handling InvoiceDate column
[2023-05-29 11:07:04,860] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                               Description  Quantity          InvoiceDate  UnitPrice         Country
1                 LUNCH BOX I LOVE LONDON        12  2011-01-27 10:56:00          1  United Kingdom
2               LUNCH BAG ALPHABET DESIGN        10  2011-08-11 10:55:00          1  United Kingdom
7              ALARM CLOCK BAKELIKE IVORY         1  2011-01-13 09:30:00          7  United Kingdom
8                 LUNCH BAG RED RETROSPOT         1  2011-10-27 13:59:00          1  United Kingdom
24                 JUMBO STORAGE BAG SUKI         1  2011-02-16 15:56:00          4  United Kingdom
...                                   ...       ...                  ...        ...             ...
352226               RED DINER WALL CLOCK         4  2011-06-14 11:33:00          8  United Kingdom
352228           3 STRIPEY MICE FELTCRAFT         2  2011-09-18 16:04:00          1  United Kingdom
352230     SET 2 TEA TOWELS I LOVE LONDON         1  2011-08-19 17:08:00          3  United Kingdom
352232    RECIPE BOX PANTRY YELLOW DESIGN         6  2011-03-24 14:47:00          2         Belgium
352233  VINTAGE HEADS AND TAILS CARD GAME         1  2011-07-22 10:52:00          1  United Kingdom

[85575 rows x 5 columns]
[2023-05-29 11:07:04,895] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 11:07:04,902] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                                Description  Quantity          InvoiceDate  UnitPrice         Country
10         RECIPE BOX PANTRY YELLOW DESIGN         1  2011-11-08 14:22:00          2  United Kingdom
20              CHOCOLATE HOT WATER BOTTLE         6  2011-12-07 11:03:00          4  United Kingdom
23                 JUMBO BAG RED RETROSPOT         1  2011-02-21 18:15:00          4  United Kingdom
43                  6 RIBBONS RUSTIC CHARM         2  2011-02-18 16:12:00          3  United Kingdom
58                  LUNCH BAG APPLE DESIGN        10  2011-06-05 10:54:00          1  United Kingdom
...                                    ...       ...                  ...        ...             ...
189595                  SPACEBOY LUNCH BOX        12  2011-09-13 12:13:00          1  United Kingdom
189614  WHITE HANGING HEART T-LIGHT HOLDER         2  2011-11-30 14:11:00          6  United Kingdom
189633   JUMBO SHOPPER VINTAGE RED PAISLEY         1  2011-04-10 11:35:00          2  United Kingdom
189637                 LUNCH BAG CARS BLUE        10  2011-07-21 17:09:00          1            EIRE
189652      PAPER CHAIN KIT 50'S CHRISTMAS         7  2011-11-14 15:22:00          5  United Kingdom

[17847 rows x 5 columns]
[2023-05-29 11:07:04,912] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 11:07:04,912] root - INFO - converting column.dtypes into int.
[2023-05-29 11:07:04,913] root - INFO -  ....... creating target columns .............
[2023-05-29 11:07:04,914] root - INFO - get_required_description 
[2023-05-29 11:07:04,927] root - INFO - train_Df  shape : (85575, 8)
[2023-05-29 11:07:04,927] root - INFO - test_df  shape : (17847, 8)
[2023-05-29 11:07:05,073] root - INFO - Writting reprt in yaml file
[2023-05-29 11:07:05,074] root - INFO - report written into report.yaml
[2023-05-29 11:07:05,074] root - INFO - data validation is almost done
[2023-05-29 11:07:05,074] root - INFO - returning data_validation_artifact
[2023-05-29 11:07:05,075] root - INFO - ...................Starting data transformation..................
[2023-05-29 11:07:05,075] root - INFO - reading data from valid_feature_store_file...
[2023-05-29 11:07:05,428] root - INFO - returning data transformatin artifact
[2023-05-29 11:07:05,435] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-05-29 11:07:05,467] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-05-29 11:07:05,467] root - INFO - X_train shape is : (85575, 143)
[2023-05-29 11:07:05,467] root - INFO - x_test shape is : (17847, 143)
[2023-05-29 11:07:05,467] root - INFO - ready to fit data to model...
[2023-05-29 11:07:06,267] root - INFO - data fitted to model...
[2023-05-29 11:07:06,272] root - INFO - predicted for x_test : 0.9969298227866465
[2023-05-29 11:07:06,311] root - INFO - predicted for x_train : 1.0
[2023-05-29 11:07:06,348] root - INFO - predicted mse for x_train : 0.0
[2023-05-29 11:07:06,353] root - INFO - predicted mse for x_test : 2.0261108309519806
[2023-05-29 11:07:06,389] root - INFO - predicted for mae x_train : 0.0
[2023-05-29 11:07:06,394] root - INFO - predicted for  mae x_test : 0.03798957808034964
[2023-05-29 11:07:06,429] root - INFO - predicted rmse for x_train : 0.0
[2023-05-29 11:07:06,433] root - INFO - predicted for x_test : 1.423415199775519
[2023-05-29 11:07:06,433] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.0030701772133534533
[2023-05-29 11:07:06,433] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-05-29 11:07:06,433] root - INFO - save the model as a dill(pickle) file....
[2023-05-29 11:07:06,435] root - INFO - Model evaluation started ......
[2023-05-29 11:07:06,435] root - INFO - model_evaluation_artifact : ModelEvaluationArtifact(model_eccepted=True, improved_accuracy=None)
[2023-05-29 11:07:06,436] root - INFO - model pusher is started.....
[2023-05-29 11:07:06,436] root - INFO - reading(unpickling) transformer and model
[2023-05-29 11:07:06,437] root - INFO - saving transformer and model file into saved folder...
