[2023-05-29 12:12:47,502] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-05-29 12:12:47,503] root - INFO - Starting data ingestion
[2023-05-29 12:12:47,988] root - INFO - got data from mongodb
[2023-05-29 12:12:48,081] root - INFO - storing train data
[2023-05-29 12:12:49,457] root - INFO - data validation started........
[2023-05-29 12:12:49,944] root - INFO - dropping null values
[2023-05-29 12:12:49,997] root - INFO - now shape of df : (351271, 8)
[2023-05-29 12:12:50,032] root - INFO - now shape of df : (189184, 8)
[2023-05-29 12:12:50,034] root - INFO - dropping null values
[2023-05-29 12:12:50,034] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:12:50,043] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:12:50,043] root - INFO - data shape: (351271, 5)
[2023-05-29 12:12:50,050] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:12:50,055] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:12:50,055] root - INFO - data shape: (189184, 5)
[2023-05-29 12:12:50,059] root - INFO - dropping rows on condition
[2023-05-29 12:12:50,283] root - INFO - handling InvoiceDate column
[2023-05-29 12:12:50,293] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                                Description  Quantity          InvoiceDate  UnitPrice         Country
4              LUNCH BAG DOLLY GIRL DESIGN        10  2011-08-02 14:04:00          1  United Kingdom
5       WHITE HANGING HEART T-LIGHT HOLDER        12  2011-04-27 14:16:00          2  United Kingdom
21               LUNCH BAG SPACEBOY DESIGN        10  2011-05-09 15:33:00          1  United Kingdom
27                 JUMBO BAG PINK POLKADOT         2  2011-03-18 12:07:00          4  United Kingdom
29          PAPER CHAIN KIT 50'S CHRISTMAS         6  2011-11-30 14:42:00          2  United Kingdom
...                                    ...       ...                  ...        ...             ...
352223            REGENCY CAKESTAND 3 TIER         2  2011-01-28 14:42:00         12  United Kingdom
352227      NATURAL SLATE HEART CHALKBOARD        12  2011-04-14 11:48:00          2  United Kingdom
352231                  RED KITCHEN SCALES         2  2011-07-07 10:39:00          8  United Kingdom
352236        ANTIQUE SILVER T-LIGHT GLASS         6  2011-06-03 10:15:00          1  United Kingdom
352238          WOODEN FRAME ANTIQUE WHITE        12  2011-02-21 12:53:00          2  United Kingdom

[85803 rows x 5 columns]
[2023-05-29 12:12:50,326] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 12:12:50,333] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                                 Description  Quantity          InvoiceDate  UnitPrice         Country
21       WHITE HANGING HEART T-LIGHT HOLDER         2  2011-10-13 12:59:00          2  United Kingdom
24             SET OF 4 PANTRY JELLY MOULDS         1  2011-04-21 18:10:00          2  United Kingdom
31          GREEN REGENCY TEACUP AND SAUCER        12  2010-12-02 10:39:00          2  United Kingdom
38                 ALARM CLOCK BAKELIKE RED         4  2011-09-16 16:25:00          3  United Kingdom
41          RETROSPOT TEA SET CERAMIC 11 PC         6  2011-10-12 09:35:00          4  United Kingdom
...                                     ...       ...                  ...        ...             ...
189653      VICTORIAN GLASS HANGING T-LIGHT        12  2011-03-20 12:06:00          1  United Kingdom
189654           ALARM CLOCK BAKELIKE GREEN         8  2011-09-14 12:51:00          3  United Kingdom
189655                   LUNCH BAG WOODLAND        10  2011-09-01 11:38:00          1  United Kingdom
189663  SET/5 RED RETROSPOT LID GLASS BOWLS         4  2011-11-24 14:06:00          2  United Kingdom
189665         SET OF 4 PANTRY JELLY MOULDS         2  2011-08-11 15:25:00          1  United Kingdom

[17674 rows x 5 columns]
[2023-05-29 12:12:50,343] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 12:12:50,344] root - INFO - converting column.dtypes into int.
[2023-05-29 12:12:50,345] root - INFO -  ....... creating target columns .............
[2023-05-29 12:12:50,346] root - INFO - get_required_description 
[2023-05-29 12:12:50,358] root - INFO - train_Df  shape : (85803, 8)
[2023-05-29 12:12:50,359] root - INFO - test_df  shape : (17674, 8)
[2023-05-29 12:12:50,505] root - INFO - Writting reprt in yaml file
[2023-05-29 12:12:50,506] root - INFO - report written into report.yaml
[2023-05-29 12:12:50,506] root - INFO - data validation is almost done
[2023-05-29 12:12:50,506] root - INFO - returning data_validation_artifact
[2023-05-29 12:12:50,507] root - INFO - ...................Starting data transformation..................
[2023-05-29 12:12:50,507] root - INFO - reading data from valid_feature_store_file...
[2023-05-29 12:12:50,782] root - INFO - returning data transformatin artifact
[2023-05-29 12:12:50,785] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-05-29 12:12:50,816] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-05-29 12:12:50,816] root - INFO - X_train shape is : (85803, 144)
[2023-05-29 12:12:50,816] root - INFO - x_test shape is : (17674, 144)
[2023-05-29 12:12:50,816] root - INFO - ready to fit data to model...
[2023-05-29 12:12:51,431] root - INFO - data fitted to model...
[2023-05-29 12:12:51,436] root - INFO - predicted for x_test : 0.9755190108159394
[2023-05-29 12:12:51,462] root - INFO - predicted for x_train : 1.0
[2023-05-29 12:12:51,489] root - INFO - predicted mse for x_train : 0.0
[2023-05-29 12:12:51,494] root - INFO - predicted mse for x_test : 16.85487156274754
[2023-05-29 12:12:51,518] root - INFO - predicted for mae x_train : 0.0
[2023-05-29 12:12:51,522] root - INFO - predicted for  mae x_test : 0.09692203236392441
[2023-05-29 12:12:51,545] root - INFO - predicted rmse for x_train : 0.0
[2023-05-29 12:12:51,549] root - INFO - predicted for x_test : 4.1054684949159626
[2023-05-29 12:12:51,549] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.02448098918406061
[2023-05-29 12:12:51,549] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-05-29 12:12:51,549] root - INFO - save the model as a dill(pickle) file....
[2023-05-29 12:12:51,550] root - INFO - Model evaluation started ......
[2023-05-29 12:12:51,550] root - INFO - model_evaluation_artifact : ModelEvaluationArtifact(model_eccepted=True, improved_accuracy=None)
[2023-05-29 12:12:51,550] root - INFO - model pusher is started.....
[2023-05-29 12:12:51,550] root - INFO - reading(unpickling) transformer and model
[2023-05-29 12:12:51,552] root - INFO - saving transformer and model file into saved folder...
