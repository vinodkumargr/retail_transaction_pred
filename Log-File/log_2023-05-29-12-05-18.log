[2023-05-29 12:05:24,460] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-05-29 12:05:24,460] root - INFO - Starting data ingestion
[2023-05-29 12:05:24,923] root - INFO - got data from mongodb
[2023-05-29 12:05:25,006] root - INFO - storing train data
[2023-05-29 12:05:26,362] root - INFO - data validation started........
[2023-05-29 12:05:26,853] root - INFO - dropping null values
[2023-05-29 12:05:26,910] root - INFO - now shape of df : (351282, 8)
[2023-05-29 12:05:26,943] root - INFO - now shape of df : (189173, 8)
[2023-05-29 12:05:26,945] root - INFO - dropping null values
[2023-05-29 12:05:26,946] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:05:26,956] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:05:26,956] root - INFO - data shape: (351282, 5)
[2023-05-29 12:05:26,961] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:05:26,966] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 12:05:26,966] root - INFO - data shape: (189173, 5)
[2023-05-29 12:05:26,969] root - INFO - dropping rows on condition
[2023-05-29 12:05:27,190] root - INFO - handling InvoiceDate column
[2023-05-29 12:05:27,199] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                               Description  Quantity          InvoiceDate  UnitPrice         Country
0                  JAM MAKING SET PRINTED         2  2011-02-01 14:01:00          1  United Kingdom
1                      RABBIT NIGHT LIGHT        38  2011-11-29 16:47:00          4  United Kingdom
5                  HAND WARMER UNION JACK        10  2011-12-07 12:51:00          2  United Kingdom
6            SET OF 4 PANTRY JELLY MOULDS         3  2011-10-02 13:46:00          1  United Kingdom
9                RED RETROSPOT CAKE STAND         2  2011-10-30 13:06:00         10           Spain
...                                   ...       ...                  ...        ...             ...
352220             JUMBO STORAGE BAG SUKI        12  2011-02-09 13:00:00          4  United Kingdom
352225           JAM MAKING SET WITH JARS         2  2011-06-12 13:17:00          4  United Kingdom
352234             JUMBO STORAGE BAG SUKI        10  2011-09-13 09:43:00          2  United Kingdom
352237  JUMBO SHOPPER VINTAGE RED PAISLEY         1  2010-12-12 12:41:00          1  United Kingdom
352239     NATURAL SLATE CHALKBOARD LARGE         3  2011-02-01 12:08:00          4  United Kingdom

[84527 rows x 5 columns]
[2023-05-29 12:05:27,233] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 12:05:27,240] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                               Description  Quantity          InvoiceDate  UnitPrice         Country
7                  JUMBO BAG VINTAGE LEAF         1  2011-11-08 18:29:00          4  United Kingdom
13                  LUNCH BAG SUKI DESIGN         2  2011-07-17 11:10:00          1  United Kingdom
15        RECIPE BOX PANTRY YELLOW DESIGN         6  2011-09-08 10:09:00          2            EIRE
31       SET OF 3 CAKE TINS PANTRY DESIGN         6  2011-02-23 15:53:00          4         Germany
37      JUMBO SHOPPER VINTAGE RED PAISLEY        10  2011-09-19 10:51:00          2  United Kingdom
...                                   ...       ...                  ...        ...             ...
189612             JAM MAKING SET PRINTED         3  2011-08-31 09:23:00          3  United Kingdom
189614    RETROSPOT TEA SET CERAMIC 11 PC         3  2011-04-20 15:21:00          4  United Kingdom
189656            LUNCH BAG  BLACK SKULL.         1  2011-10-04 16:37:00          4  United Kingdom
189661           JAM MAKING SET WITH JARS        12  2011-02-15 10:45:00          3  United Kingdom
189663             JAM MAKING SET PRINTED        24  2011-01-30 14:36:00          1  United Kingdom

[17957 rows x 5 columns]
[2023-05-29 12:05:27,250] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 12:05:27,251] root - INFO - converting column.dtypes into int.
[2023-05-29 12:05:27,252] root - INFO -  ....... creating target columns .............
[2023-05-29 12:05:27,253] root - INFO - get_required_description 
[2023-05-29 12:05:27,266] root - INFO - train_Df  shape : (84527, 8)
[2023-05-29 12:05:27,266] root - INFO - test_df  shape : (17957, 8)
[2023-05-29 12:05:27,411] root - INFO - Writting reprt in yaml file
[2023-05-29 12:05:27,412] root - INFO - report written into report.yaml
[2023-05-29 12:05:27,412] root - INFO - data validation is almost done
[2023-05-29 12:05:27,412] root - INFO - returning data_validation_artifact
[2023-05-29 12:05:27,414] root - INFO - ...................Starting data transformation..................
[2023-05-29 12:05:27,414] root - INFO - reading data from valid_feature_store_file...
[2023-05-29 12:05:27,920] root - INFO - returning data transformatin artifact
[2023-05-29 12:05:27,925] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-05-29 12:05:27,964] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-05-29 12:05:27,964] root - INFO - X_train shape is : (84527, 144)
[2023-05-29 12:05:27,964] root - INFO - x_test shape is : (17957, 144)
[2023-05-29 12:05:27,964] root - INFO - ready to fit data to model...
[2023-05-29 12:05:29,102] root - INFO - data fitted to model...
[2023-05-29 12:05:29,106] root - INFO - predicted for x_test : 0.591468631034531
[2023-05-29 12:05:29,125] root - INFO - predicted for x_train : 0.5926341123826296
[2023-05-29 12:05:29,141] root - INFO - predicted mse for x_train : 202.5881924210936
[2023-05-29 12:05:29,146] root - INFO - predicted mse for x_test : 278.4752574477414
[2023-05-29 12:05:29,168] root - INFO - predicted for mae x_train : 6.507483831655803
[2023-05-29 12:05:29,177] root - INFO - predicted for  mae x_test : 7.204564866562921
[2023-05-29 12:05:29,204] root - INFO - predicted rmse for x_train : 14.233347899250324
[2023-05-29 12:05:29,211] root - INFO - predicted for x_test : 16.687577938327102
[2023-05-29 12:05:29,211] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.0011654813480986848
[2023-05-29 12:05:29,212] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-05-29 12:05:29,212] root - INFO - save the model as a dill(pickle) file....
[2023-05-29 12:05:29,262] root - INFO - Model evaluation started ......
[2023-05-29 12:05:29,262] root - INFO - model_evaluation_artifact : ModelEvaluationArtifact(model_eccepted=True, improved_accuracy=None)
[2023-05-29 12:05:29,263] root - INFO - model pusher is started.....
[2023-05-29 12:05:29,264] root - INFO - reading(unpickling) transformer and model
[2023-05-29 12:05:29,268] root - INFO - saving transformer and model file into saved folder...
