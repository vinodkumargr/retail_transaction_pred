[2023-06-21 19:40:34,242] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-06-21 19:40:34,242] root - INFO - Starting data ingestion
[2023-06-21 19:40:34,242] root - INFO - Reading data from mongoDB
[2023-06-21 19:41:47,566] root - INFO - Found data shape : (541909, 9)
[2023-06-21 19:41:47,830] root - INFO - Found _id and dropped
[2023-06-21 19:41:47,830] root - INFO - data shape : (541909, 8)
[2023-06-21 19:41:47,830] root - INFO - got data from mongodb
[2023-06-21 19:41:48,106] root - INFO - storing train data
[2023-06-21 19:41:49,986] root - INFO - data validation started........
[2023-06-21 19:41:50,499] root - INFO - dropping null values
[2023-06-21 19:41:50,554] root - INFO - now shape of df : (351323, 8)
[2023-06-21 19:41:50,593] root - INFO - now shape of df : (189132, 8)
[2023-06-21 19:41:50,596] root - INFO - dropping null values
[2023-06-21 19:41:50,597] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-06-21 19:41:50,604] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-06-21 19:41:50,604] root - INFO - data shape: (351323, 5)
[2023-06-21 19:41:50,610] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-06-21 19:41:50,615] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-06-21 19:41:50,615] root - INFO - data shape: (189132, 5)
[2023-06-21 19:41:50,618] root - INFO - dropping rows on condition
[2023-06-21 19:41:50,896] root - INFO - handling InvoiceDate column
[2023-06-21 19:41:50,909] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                               Description  Quantity          InvoiceDate  UnitPrice         Country
4       SET OF 6 SPICE TINS PANTRY DESIGN         6  2011-02-14 12:32:00          8  United Kingdom
7            SCOTTIE DOG HOT WATER BOTTLE         3  2010-12-10 12:44:00          4  United Kingdom
8                 LUNCH BAG VINTAGE DOILY         2  2011-11-22 16:06:00          1  United Kingdom
10         NATURAL SLATE CHALKBOARD LARGE         1  2011-07-24 11:45:00          4  United Kingdom
17                  HEART OF WICKER SMALL        40  2011-02-10 10:17:00          1  United Kingdom
...                                   ...       ...                  ...        ...             ...
352213          JUMBO BAG DOILEY PATTERNS        10  2011-08-04 15:04:00          2  United Kingdom
352214       SET OF 4 PANTRY JELLY MOULDS         1  2011-03-10 15:13:00          1  United Kingdom
352215              LOVE HOT WATER BOTTLE         5  2011-12-08 13:36:00          5  United Kingdom
352221            LUNCH BAG  BLACK SKULL.         2  2011-11-20 12:37:00          1  United Kingdom
352235  SET OF 3 WOODEN HEART DECORATIONS        12  2011-08-11 12:53:00          1  United Kingdom

[85867 rows x 5 columns]
[2023-06-21 19:41:51,059] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-06-21 19:41:51,068] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                                 Description  Quantity          InvoiceDate  UnitPrice         Country
0                    JUMBO STORAGE BAG SUKI        20  2011-09-28 13:32:00          1  United Kingdom
3                  REGENCY CAKESTAND 3 TIER         1  2011-11-14 14:24:00         12  United Kingdom
40                       LUNCH BAG WOODLAND        20  2011-09-07 13:22:00          1          France
42        WOODEN PICTURE FRAME WHITE FINISH         6  2011-07-25 16:18:00          2  United Kingdom
44                       JUMBO BAG ALPHABET        10  2011-07-07 18:56:00          2  United Kingdom
...                                     ...       ...                  ...        ...             ...
189632      RECIPE BOX PANTRY YELLOW DESIGN         2  2011-03-24 19:31:00          2  United Kingdom
189640       NATURAL SLATE HEART CHALKBOARD        12  2011-05-12 12:10:00          2  United Kingdom
189644                HEART OF WICKER SMALL        12  2011-03-02 08:41:00          1  United Kingdom
189652  SET/5 RED RETROSPOT LID GLASS BOWLS         6  2011-06-01 08:38:00          2  United Kingdom
189660              LUNCH BAG PINK POLKADOT         2  2011-01-16 15:50:00          1  United Kingdom

[18909 rows x 5 columns]
[2023-06-21 19:41:51,082] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-06-21 19:41:51,085] root - INFO - converting column.dtypes into int.
[2023-06-21 19:41:51,087] root - INFO -  ....... creating target columns .............
[2023-06-21 19:41:51,088] root - INFO - get_required_description 
[2023-06-21 19:41:51,103] root - INFO - train_Df  shape : (85867, 8)
[2023-06-21 19:41:51,104] root - INFO - test_df  shape : (18909, 8)
[2023-06-21 19:41:51,261] root - INFO - Writting reprt in yaml file
[2023-06-21 19:41:51,262] root - INFO - report written into report.yaml
[2023-06-21 19:41:51,262] root - INFO - data validation is almost done
[2023-06-21 19:41:51,262] root - INFO - returning data_validation_artifact
[2023-06-21 19:41:51,264] root - INFO - ...................Starting data transformation..................
[2023-06-21 19:41:51,264] root - INFO - reading data from valid_feature_store_file...
[2023-06-21 19:41:52,651] root - INFO - returning data transformatin artifact
[2023-06-21 19:41:52,658] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-06-21 19:41:52,713] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-06-21 19:41:52,713] root - INFO - X_train shape is : (85867, 144)
[2023-06-21 19:41:52,713] root - INFO - x_test shape is : (18909, 144)
[2023-06-21 19:41:52,713] root - INFO - ready to fit data to model...
[2023-06-21 19:41:53,941] root - INFO - data fitted to model...
[2023-06-21 19:41:53,991] root - INFO - predicted for x_test : 0.9867553004371983
[2023-06-21 19:41:54,165] root - INFO - predicted for x_train : 1.0
[2023-06-21 19:41:54,218] root - INFO - predicted mse for x_train : 0.0
[2023-06-21 19:41:54,223] root - INFO - predicted mse for x_test : 10.113966894071606
[2023-06-21 19:41:54,250] root - INFO - predicted for mae x_train : 0.0
[2023-06-21 19:41:54,255] root - INFO - predicted for  mae x_test : 0.06563012322174626
[2023-06-21 19:41:54,279] root - INFO - predicted rmse for x_train : 0.0
[2023-06-21 19:41:54,283] root - INFO - predicted for x_test : 3.1802463574496245
[2023-06-21 19:41:54,283] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.01324469956280172
[2023-06-21 19:41:54,283] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-06-21 19:41:54,283] root - INFO - save the model as a dill(pickle) file....
[2023-06-21 19:41:54,285] root - INFO - Model evaluation started ......
[2023-06-21 19:41:54,285] root - INFO - model_evaluation_artifact : ModelEvaluationArtifact(model_eccepted=True, improved_accuracy=None)
[2023-06-21 19:41:54,285] root - INFO - model pusher is started.....
[2023-06-21 19:41:54,286] root - INFO - reading(unpickling) transformer and model
[2023-06-21 19:41:54,286] root - INFO - saving transformer and model file into saved folder...
