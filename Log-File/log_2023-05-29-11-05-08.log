[2023-05-29 11:05:10,033] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-05-29 11:05:10,033] root - INFO - Starting data ingestion
[2023-05-29 11:05:10,507] root - INFO - got data from mongodb
[2023-05-29 11:05:10,593] root - INFO - storing train data
[2023-05-29 11:05:12,104] root - INFO - data validation started........
[2023-05-29 11:05:12,588] root - INFO - dropping null values
[2023-05-29 11:05:12,642] root - INFO - now shape of df : (351299, 8)
[2023-05-29 11:05:12,674] root - INFO - now shape of df : (189156, 8)
[2023-05-29 11:05:12,676] root - INFO - dropping null values
[2023-05-29 11:05:12,676] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:05:12,684] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:05:12,684] root - INFO - data shape: (351299, 5)
[2023-05-29 11:05:12,689] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:05:12,693] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:05:12,693] root - INFO - data shape: (189156, 5)
[2023-05-29 11:05:12,696] root - INFO - dropping rows on condition
[2023-05-29 11:05:12,916] root - INFO - handling InvoiceDate column
[2023-05-29 11:05:12,926] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                                Description  Quantity          InvoiceDate  UnitPrice         Country
4                           SPOTTY BUNTING         3  2011-08-25 11:40:00          4  United Kingdom
5               WOODEN FRAME ANTIQUE WHITE         1  2011-11-23 17:19:00          2  United Kingdom
6             ANTIQUE SILVER T-LIGHT GLASS        12  2011-11-18 09:31:00          1  United Kingdom
20              WOODEN FRAME ANTIQUE WHITE         2  2011-07-19 17:17:00          2  United Kingdom
21           SET OF 20 KIDS COOKIE CUTTERS        24  2010-12-01 13:24:00          2          Norway
...                                    ...       ...                  ...        ...             ...
352217              6 RIBBONS RUSTIC CHARM         4  2011-03-29 15:12:00          1  United Kingdom
352228              HAND WARMER OWL DESIGN        12  2011-12-08 15:02:00          2  United Kingdom
352231   WOOD BLACK BOARD ANT WHITE FINISH         1  2011-01-27 11:30:00         13  United Kingdom
352233           RED RETROSPOT SHOPPER BAG         1  2011-10-24 17:03:00          2  United Kingdom
352234  WHITE HANGING HEART T-LIGHT HOLDER        32  2011-11-13 13:42:00          2  United Kingdom

[86543 rows x 5 columns]
[2023-05-29 11:05:12,960] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 11:05:12,967] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                             Description  Quantity          InvoiceDate  UnitPrice         Country
10           SET OF 3 REGENCY CAKE TINS         2  2011-08-30 12:26:00         10  United Kingdom
12              JUMBO BAG PINK POLKADOT        10  2011-08-18 09:01:00          2  United Kingdom
19      RECIPE BOX PANTRY YELLOW DESIGN         6  2011-04-28 11:31:00          2  United Kingdom
34                   JUMBO BAG ALPHABET         3  2011-12-02 16:39:00          4  United Kingdom
36      VICTORIAN GLASS HANGING T-LIGHT        12  2011-08-19 10:05:00          1  United Kingdom
...                                 ...       ...                  ...        ...             ...
189613               SPACEBOY LUNCH BOX        12  2011-02-22 11:58:00          1  United Kingdom
189626   NATURAL SLATE HEART CHALKBOARD         1  2011-01-26 16:43:00          5  United Kingdom
189630            HEART OF WICKER LARGE         6  2011-11-16 12:16:00          2  United Kingdom
189632           JUMBO BAG VINTAGE LEAF         3  2011-12-06 12:02:00          2  United Kingdom
189652          LUNCH BAG  BLACK SKULL.         1  2011-11-24 13:56:00          1  United Kingdom

[17790 rows x 5 columns]
[2023-05-29 11:05:12,977] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 11:05:12,978] root - INFO - converting column.dtypes into int.
[2023-05-29 11:05:12,979] root - INFO -  ....... creating target columns .............
[2023-05-29 11:05:12,980] root - INFO - get_required_description 
[2023-05-29 11:05:12,993] root - INFO - train_Df  shape : (86543, 8)
[2023-05-29 11:05:12,993] root - INFO - test_df  shape : (17790, 8)
[2023-05-29 11:05:13,148] root - INFO - Writting reprt in yaml file
[2023-05-29 11:05:13,149] root - INFO - report written into report.yaml
[2023-05-29 11:05:13,149] root - INFO - data validation is almost done
[2023-05-29 11:05:13,149] root - INFO - returning data_validation_artifact
[2023-05-29 11:05:13,150] root - INFO - ...................Starting data transformation..................
[2023-05-29 11:05:13,150] root - INFO - reading data from valid_feature_store_file...
[2023-05-29 11:05:13,765] root - INFO - returning data transformatin artifact
[2023-05-29 11:05:13,778] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-05-29 11:05:13,866] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-05-29 11:05:13,866] root - INFO - X_train shape is : (86543, 224)
[2023-05-29 11:05:13,867] root - INFO - x_test shape is : (17790, 224)
[2023-05-29 11:05:13,867] root - INFO - ready to fit data to model...
[2023-05-29 11:05:15,298] root - INFO - data fitted to model...
[2023-05-29 11:05:15,305] root - INFO - predicted for x_test : 0.9847500908066366
[2023-05-29 11:05:15,341] root - INFO - predicted for x_train : 1.0
[2023-05-29 11:05:15,376] root - INFO - predicted mse for x_train : 0.0
[2023-05-29 11:05:15,382] root - INFO - predicted mse for x_test : 10.698032602585723
[2023-05-29 11:05:15,416] root - INFO - predicted for mae x_train : 0.0
[2023-05-29 11:05:15,422] root - INFO - predicted for  mae x_test : 0.08735244519392918
[2023-05-29 11:05:15,455] root - INFO - predicted rmse for x_train : 0.0
[2023-05-29 11:05:15,463] root - INFO - predicted for x_test : 3.270784707464819
[2023-05-29 11:05:15,463] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.015249909193363442
[2023-05-29 11:05:15,463] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-05-29 11:05:15,463] root - INFO - save the model as a dill(pickle) file....
[2023-05-29 11:05:15,464] root - INFO - Model evaluation started ......
[2023-05-29 11:05:15,465] root - INFO - model_evaluation_artifact : ModelEvaluationArtifact(model_eccepted=True, improved_accuracy=None)
[2023-05-29 11:05:15,465] root - INFO - model pusher is started.....
[2023-05-29 11:05:15,465] root - INFO - reading(unpickling) transformer and model
[2023-05-29 11:05:15,466] root - INFO - saving transformer and model file into saved folder...
