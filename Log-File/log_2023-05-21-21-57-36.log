[2023-05-21 21:57:38,307] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion', 'feature_store_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/feature_store/Online_Retail.csv', 'train_file_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/train.csv', 'test_file_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/test.csv'}
[2023-05-21 21:57:38,307] root - INFO - Starting data ingestion
[2023-05-21 21:57:38,307] root - INFO - Reading data from mongoDB
[2023-05-21 22:01:22,408] root - INFO - Found data shape : (541909, 9)
[2023-05-21 22:01:22,508] root - INFO - Found _id and dropped
[2023-05-21 22:01:22,509] root - INFO - data shape : (541909, 8)
[2023-05-21 22:01:22,509] root - INFO - got data from mongodb
[2023-05-21 22:01:22,509] root - INFO - creating feature store dir
[2023-05-21 22:01:22,509] root - INFO - storing into feature store dir
[2023-05-21 22:01:24,063] root - INFO - spliting data into train and test
[2023-05-21 22:01:24,279] root - INFO - create dataset_dir if not exist
[2023-05-21 22:01:24,279] root - INFO - save dataset to feature store after split
[2023-05-21 22:01:26,588] root - INFO - data validation started :
[2023-05-21 22:01:26,589] root - INFO - ____________________dropping null values, axis=1_________________________
[2023-05-21 22:01:27,213] root - INFO - replaced na with np.NAN
[2023-05-21 22:01:27,213] root - INFO - dropping null values in base_df, axis=1
[2023-05-21 22:01:27,294] root - INFO - now shape of df : (541909, 8)
[2023-05-21 22:01:27,294] root - INFO - columns : Index(['InvoiceNo', 'StockCode', 'Description', 'Quantity', 'InvoiceDate',
       'UnitPrice', 'CustomerID', 'Country'],
      dtype='object')
[2023-05-21 22:01:27,299] root - INFO - dropped null values in base_df
[2023-05-21 22:01:27,299] root - INFO - dropping null values in train and test data,axis-1
[2023-05-21 22:01:27,732] root - INFO - now shape of df : (406431, 8)
[2023-05-21 22:01:27,732] root - INFO - columns : Index(['InvoiceNo', 'StockCode', 'Description', 'Quantity', 'InvoiceDate',
       'UnitPrice', 'CustomerID', 'Country'],
      dtype='object')
[2023-05-21 22:01:27,882] root - INFO - now shape of df : (135478, 8)
[2023-05-21 22:01:27,882] root - INFO - columns : Index(['InvoiceNo', 'StockCode', 'Description', 'Quantity', 'InvoiceDate',
       'UnitPrice', 'CustomerID', 'Country'],
      dtype='object')
[2023-05-21 22:01:27,884] root - INFO - dropped null val ues in train and test df
[2023-05-21 22:01:27,884] root - INFO - ____________________dropping null values, axis=0_________________________
[2023-05-21 22:01:27,884] root - INFO - dropping null values in base_df, axsi-0
[2023-05-21 22:01:28,008] root - INFO - now shape of df : (540455, 8)
[2023-05-21 22:01:28,008] root - INFO - columns : Index(['InvoiceNo', 'StockCode', 'Description', 'Quantity', 'InvoiceDate',
       'UnitPrice', 'CustomerID', 'Country'],
      dtype='object')
[2023-05-21 22:01:28,013] root - INFO - dropping null values in train and test df, axis-0
[2023-05-21 22:01:28,112] root - INFO - now shape of df : (405357, 8)
[2023-05-21 22:01:28,113] root - INFO - columns : Index(['InvoiceNo', 'StockCode', 'Description', 'Quantity', 'InvoiceDate',
       'UnitPrice', 'CustomerID', 'Country'],
      dtype='object')
[2023-05-21 22:01:28,151] root - INFO - now shape of df : (135098, 8)
[2023-05-21 22:01:28,152] root - INFO - columns : Index(['InvoiceNo', 'StockCode', 'Description', 'Quantity', 'InvoiceDate',
       'UnitPrice', 'CustomerID', 'Country'],
      dtype='object')
[2023-05-21 22:01:28,153] root - INFO - dropped null values, axis=0
[2023-05-21 22:01:28,153] root - INFO - ____________________dropping unwanted cols, axis=1_________________________
[2023-05-21 22:01:28,153] root - INFO - dropping null values in base_df, axsi-0
[2023-05-21 22:01:28,153] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-21 22:01:28,163] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-21 22:01:28,163] root - INFO - data shape: (540455, 5)
[2023-05-21 22:01:28,168] root - INFO - dropping null values in train and test df, axis-0
[2023-05-21 22:01:28,168] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-21 22:01:28,177] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-21 22:01:28,177] root - INFO - data shape: (405357, 5)
[2023-05-21 22:01:28,185] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-21 22:01:28,188] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-21 22:01:28,189] root - INFO - data shape: (135098, 5)
[2023-05-21 22:01:28,191] root - INFO - dropped unwanted cols in train and test
[2023-05-21 22:01:28,191] root - INFO - ____________________dropping rows on condition(outliers), axis=1_________________________
[2023-05-21 22:01:28,191] root - INFO - dropping rows on condition in base_df
[2023-05-21 22:01:28,195] root - INFO - total values <1 and >40 in Quantity column is : (29218, 5)
[2023-05-21 22:01:28,226] root - INFO - dropped Quantity <1 and >40
