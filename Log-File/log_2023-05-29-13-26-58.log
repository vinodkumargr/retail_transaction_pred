[2023-05-29 13:27:01,795] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-05-29 13:27:01,795] root - INFO - Starting data ingestion
[2023-05-29 13:27:02,265] root - INFO - got data from mongodb
[2023-05-29 13:27:02,350] root - INFO - storing train data
[2023-05-29 13:27:03,706] root - INFO - data validation started........
[2023-05-29 13:27:04,232] root - INFO - dropping null values
[2023-05-29 13:27:04,297] root - INFO - now shape of df : (351295, 8)
[2023-05-29 13:27:04,339] root - INFO - now shape of df : (189160, 8)
[2023-05-29 13:27:04,341] root - INFO - dropping null values
[2023-05-29 13:27:04,341] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 13:27:04,350] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 13:27:04,350] root - INFO - data shape: (351295, 5)
[2023-05-29 13:27:04,358] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 13:27:04,363] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 13:27:04,363] root - INFO - data shape: (189160, 5)
[2023-05-29 13:27:04,368] root - INFO - dropping rows on condition
[2023-05-29 13:27:04,650] root - INFO - handling InvoiceDate column
[2023-05-29 13:27:04,661] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                                Description  Quantity          InvoiceDate  UnitPrice         Country
2                   JUMBO STORAGE BAG SUKI        10  2011-09-22 13:37:00          2  United Kingdom
3           CLOTHES PEGS RETROSPOT PACK 24         1  2011-11-07 12:34:00          1  United Kingdom
5                           SPOTTY BUNTING         9  2011-06-15 10:21:00          4          France
10      WHITE HANGING HEART T-LIGHT HOLDER         3  2011-05-26 16:30:00          2  United Kingdom
13       SET OF 6 SPICE TINS PANTRY DESIGN         4  2011-10-27 13:43:00          3          Norway
...                                    ...       ...                  ...        ...             ...
352214         SMALL WHITE HEART OF WICKER         2  2011-08-11 14:38:00          1  United Kingdom
352221  WOOD 2 DRAWER CABINET WHITE FINISH         2  2011-09-02 15:23:00          6  United Kingdom
352222             RECYCLING BAG RETROSPOT        15  2010-12-16 09:44:00          2  United Kingdom
352234      CLOTHES PEGS RETROSPOT PACK 24         6  2011-04-12 14:22:00          1  United Kingdom
352237             PAPER BUNTING RETROSPOT        10  2011-08-09 12:07:00          2  United Kingdom

[86788 rows x 5 columns]
[2023-05-29 13:27:04,720] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 13:27:04,728] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                             Description  Quantity          InvoiceDate  UnitPrice         Country
11              JUMBO BAG RED RETROSPOT        10  2011-07-13 15:29:00          2  United Kingdom
37              LUNCH BAG PINK POLKADOT         1  2011-08-12 16:30:00          4  United Kingdom
39                HEART OF WICKER LARGE         6  2011-01-09 14:02:00          2  United Kingdom
71         BAKING SET 9 PIECE RETROSPOT         3  2011-06-06 13:18:00          4  United Kingdom
83                HEART OF WICKER SMALL         1  2011-09-26 15:28:00          1  United Kingdom
...                                 ...       ...                  ...        ...             ...
189624  GREEN REGENCY TEACUP AND SAUCER         1  2011-01-12 16:57:00          2  United Kingdom
189656  VICTORIAN GLASS HANGING T-LIGHT         4  2011-12-05 17:28:00          2  United Kingdom
189657               LUNCH BAG WOODLAND         4  2011-10-04 10:14:00          4  United Kingdom
189664  VICTORIAN GLASS HANGING T-LIGHT        12  2011-02-02 15:26:00          1  United Kingdom
189667  VICTORIAN GLASS HANGING T-LIGHT         3  2010-12-21 15:20:00          2  United Kingdom

[18346 rows x 5 columns]
[2023-05-29 13:27:04,741] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 13:27:04,741] root - INFO - converting column.dtypes into int.
[2023-05-29 13:27:04,742] root - INFO -  ....... creating target columns .............
[2023-05-29 13:27:04,744] root - INFO - get_required_description 
[2023-05-29 13:27:04,760] root - INFO - train_Df  shape : (86788, 8)
[2023-05-29 13:27:04,760] root - INFO - test_df  shape : (18346, 8)
[2023-05-29 13:27:04,934] root - INFO - Writting reprt in yaml file
[2023-05-29 13:27:04,935] root - INFO - report written into report.yaml
[2023-05-29 13:27:04,935] root - INFO - data validation is almost done
[2023-05-29 13:27:04,935] root - INFO - returning data_validation_artifact
[2023-05-29 13:27:04,937] root - INFO - ...................Starting data transformation..................
[2023-05-29 13:27:04,937] root - INFO - reading data from valid_feature_store_file...
[2023-05-29 13:27:05,524] root - INFO - returning data transformatin artifact
[2023-05-29 13:27:05,535] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-05-29 13:27:05,612] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-05-29 13:27:05,613] root - INFO - X_train shape is : (86788, 144)
[2023-05-29 13:27:05,613] root - INFO - x_test shape is : (18346, 144)
[2023-05-29 13:27:05,613] root - INFO - ready to fit data to model...
[2023-05-29 13:27:06,578] root - INFO - data fitted to model...
[2023-05-29 13:27:06,583] root - INFO - predicted for x_test : 0.9957909932506912
[2023-05-29 13:27:06,637] root - INFO - predicted for x_train : 1.0
[2023-05-29 13:27:06,686] root - INFO - predicted mse for x_train : 0.0
[2023-05-29 13:27:06,691] root - INFO - predicted mse for x_test : 2.6412842036411206
[2023-05-29 13:27:06,726] root - INFO - predicted for mae x_train : 0.0
[2023-05-29 13:27:06,731] root - INFO - predicted for  mae x_test : 0.03875504197100185
[2023-05-29 13:27:06,765] root - INFO - predicted rmse for x_train : 0.0
[2023-05-29 13:27:06,769] root - INFO - predicted for x_test : 1.6252028192324552
[2023-05-29 13:27:06,769] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.004209006749308797
[2023-05-29 13:27:06,769] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-05-29 13:27:06,769] root - INFO - save the model as a dill(pickle) file....
[2023-05-29 13:27:06,776] root - INFO - Model evaluation started ......
[2023-05-29 13:27:06,777] root - INFO - model_evaluation_artifact : ModelEvaluationArtifact(model_eccepted=True, improved_accuracy=None)
[2023-05-29 13:27:06,777] root - INFO - model pusher is started.....
[2023-05-29 13:27:06,777] root - INFO - reading(unpickling) transformer and model
[2023-05-29 13:27:06,778] root - INFO - saving transformer and model file into saved folder...
