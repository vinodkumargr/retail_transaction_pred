[2023-05-29 11:06:30,227] root - INFO - printing dict data : {'database_name': 'online_retail', 'collection_name': 'online_retail', 'data_ingestion_dir': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion', 'train_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/train_df.csv', 'test_path': '/home/vinod/projects1/retail_transaction_pred/artifacts/data_ingestion/data_split/test_df.csv'}
[2023-05-29 11:06:30,227] root - INFO - Starting data ingestion
[2023-05-29 11:06:30,711] root - INFO - got data from mongodb
[2023-05-29 11:06:30,803] root - INFO - storing train data
[2023-05-29 11:06:32,219] root - INFO - data validation started........
[2023-05-29 11:06:32,708] root - INFO - dropping null values
[2023-05-29 11:06:32,763] root - INFO - now shape of df : (351289, 8)
[2023-05-29 11:06:32,795] root - INFO - now shape of df : (189166, 8)
[2023-05-29 11:06:32,797] root - INFO - dropping null values
[2023-05-29 11:06:32,797] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:06:32,804] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:06:32,805] root - INFO - data shape: (351289, 5)
[2023-05-29 11:06:32,810] root - INFO - found unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:06:32,814] root - INFO - dropped unwanted columns: ['InvoiceNo', 'StockCode', 'CustomerID']
[2023-05-29 11:06:32,814] root - INFO - data shape: (189166, 5)
[2023-05-29 11:06:32,817] root - INFO - dropping rows on condition
[2023-05-29 11:06:33,046] root - INFO - handling InvoiceDate column
[2023-05-29 11:06:33,056] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                               Description  Quantity          InvoiceDate  UnitPrice         Country
6            SET OF 4 PANTRY JELLY MOULDS         4  2011-06-14 11:36:00          1  United Kingdom
12      VINTAGE HEADS AND TAILS CARD GAME        24  2011-06-09 10:46:00          1  United Kingdom
13        PLASTERS IN TIN VINTAGE PAISLEY        12  2011-05-24 13:46:00          1  United Kingdom
29        GREEN REGENCY TEACUP AND SAUCER        24  2011-04-14 09:09:00          2  United Kingdom
32        CHILDRENS APRON SPACEBOY DESIGN         1  2011-07-22 14:13:00          1  United Kingdom
...                                   ...       ...                  ...        ...             ...
352218      RED TOADSTOOL LED NIGHT LIGHT         1  2011-10-24 17:07:00          3  United Kingdom
352231            LUNCH BAG  BLACK SKULL.        10  2011-11-13 10:35:00          1  United Kingdom
352236             ENAMEL BREAD BIN CREAM         1  2011-12-04 11:45:00         12  United Kingdom
352237            LUNCH BAG PINK POLKADOT         2  2011-05-31 12:50:00          1  United Kingdom
352239    GREEN REGENCY TEACUP AND SAUCER         1  2011-07-31 15:00:00          2  United Kingdom

[85035 rows x 5 columns]
[2023-05-29 11:06:33,090] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 11:06:33,097] root - INFO - df[InvoiceDate] dtype != datetime, converting into datetime in                              Description  Quantity          InvoiceDate  UnitPrice         Country
1       SET OF 3 CAKE TINS PANTRY DESIGN         4  2011-01-21 13:47:00          4  United Kingdom
3                  LUNCH BAG SUKI DESIGN        10  2011-10-17 13:57:00          1  United Kingdom
6         PAPER CHAIN KIT 50'S CHRISTMAS        40  2011-11-28 11:11:00          2  United Kingdom
18               LUNCH BAG RED RETROSPOT         2  2011-07-22 09:20:00          4  United Kingdom
19               LUNCH BAG PINK POLKADOT        10  2011-10-05 15:17:00          1  United Kingdom
...                                  ...       ...                  ...        ...             ...
189622                           POSTAGE         2  2011-08-22 12:40:00         18         Germany
189638            JAM MAKING SET PRINTED         2  2011-02-09 16:52:00          3  United Kingdom
189639           JUMBO BAG RED RETROSPOT         4  2011-03-29 15:30:00          4  United Kingdom
189641   RETROSPOT TEA SET CERAMIC 11 PC         3  2011-10-03 13:03:00          4  United Kingdom
189644        SET OF 3 REGENCY CAKE TINS         4  2011-11-08 11:09:00          4  United Kingdom

[17269 rows x 5 columns]
[2023-05-29 11:06:33,107] root - INFO - Created new columns Day, Month and year and dropped column InvoiceDate
[2023-05-29 11:06:33,108] root - INFO - converting column.dtypes into int.
[2023-05-29 11:06:33,109] root - INFO -  ....... creating target columns .............
[2023-05-29 11:06:33,110] root - INFO - get_required_description 
[2023-05-29 11:06:33,162] root - INFO - train_Df  shape : (85035, 8)
[2023-05-29 11:06:33,162] root - INFO - test_df  shape : (17269, 8)
[2023-05-29 11:06:33,308] root - INFO - Writting reprt in yaml file
[2023-05-29 11:06:33,309] root - INFO - report written into report.yaml
[2023-05-29 11:06:33,309] root - INFO - data validation is almost done
[2023-05-29 11:06:33,309] root - INFO - returning data_validation_artifact
[2023-05-29 11:06:33,311] root - INFO - ...................Starting data transformation..................
[2023-05-29 11:06:33,311] root - INFO - reading data from valid_feature_store_file...
[2023-05-29 11:06:33,691] root - INFO - returning data transformatin artifact
[2023-05-29 11:06:33,697] root - INFO - Reading train and test data from data_transformation artifacts...
[2023-05-29 11:06:33,749] root - INFO - splitting train and test data into x_train, x_test and y_train, y_test ...
[2023-05-29 11:06:33,749] root - INFO - X_train shape is : (85035, 144)
[2023-05-29 11:06:33,749] root - INFO - x_test shape is : (17269, 144)
[2023-05-29 11:06:33,749] root - INFO - ready to fit data to model...
[2023-05-29 11:06:34,415] root - INFO - data fitted to model...
[2023-05-29 11:06:34,420] root - INFO - predicted for x_test : 0.9971173573272327
[2023-05-29 11:06:34,456] root - INFO - predicted for x_train : 1.0
[2023-05-29 11:06:34,488] root - INFO - predicted mse for x_train : 0.0
[2023-05-29 11:06:34,493] root - INFO - predicted mse for x_test : 1.8893392784758816
[2023-05-29 11:06:34,525] root - INFO - predicted for mae x_train : 0.0
[2023-05-29 11:06:34,529] root - INFO - predicted for  mae x_test : 0.0484683536973768
[2023-05-29 11:06:34,566] root - INFO - predicted rmse for x_train : 0.0
[2023-05-29 11:06:34,570] root - INFO - predicted for x_test : 1.3745323853863471
[2023-05-29 11:06:34,570] root - INFO - calculating absolute diff between r2_train_score and r2_test_score, :  0.002882642672767277
[2023-05-29 11:06:34,570] root - INFO - observing model performance whether is underfitted or overfitted...
[2023-05-29 11:06:34,570] root - INFO - save the model as a dill(pickle) file....
[2023-05-29 11:06:34,571] root - INFO - Model evaluation started ......
[2023-05-29 11:06:34,572] root - INFO - finding old model path...
[2023-05-29 11:06:34,572] root - INFO - reading old model...
